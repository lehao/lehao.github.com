
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>乐皓博客</title>
  <meta name="author" content="乐皓">

  
  <meta name="description" content="1、 真正基础雄厚的人应该是可以将一个常用的基础性知识熟记成诵的人。提到一个基本的名词或话题能够将其来龙去脉解释清楚的人。 2、 我在简历当中最打动面试官的地方恰恰是我利用课余时间及逃课所写的程序，还有利用背考试题的时间所读的课外书。 3、 要想成为优秀的程序员， &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.ilehao.com/blog/page/2/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="乐皓博客" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">乐皓博客</a></h1>
  
    <h2>爱乐，爱皓，爱乐皓.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.ilehao.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">博客</a></li>
  <li><a href="/blog/archives">文章列表</a></li>
  <li><a href="/aboutme">关于Me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/20/it-feedback/">IT民工的升迁</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-20T09:00:00+08:00" pubdate data-updated="true">Mar 20<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/03/20/it-feedback/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>   1、 真正基础雄厚的人应该是可以将一个常用的基础性知识熟记成诵的人。提到一个基本的名词或话题能够将其来龙去脉解释清楚的人。<br/>
   2、 我在简历当中最打动面试官的地方恰恰是我利用课余时间及逃课所写的程序，还有利用背考试题的时间所读的课外书。<br/>
   3、 要想成为优秀的程序员，对于基本算法有深入与精确的理解应该是一项必须的基本技能。<br/>
   4、 Your time is limited，so don’t waste it living in someone else’s life. Don’t be trapped by dogma which is living with the results of other people’s thinking. Don’t let the noise of other’s opinions drown out you own inner voice. And the most important, have the courage to your heart and intuition. They somehow already know what you truly want to become. Everything else is secondary.（乔帮主）<br/>
   5、 学知识要注重对本质的掌握，先保证能够将知识点融入到自己的理解里，然后，如果觉得课后作业太弱智，可以尝试新的思路，别一碰到类似的东西就先把以前的搬出来当做“已完成”。<br/>
   6、 知其然不知其所以然，这是我一贯的问题，NB的公司总是问到我的软肋。<br/>
   7、 加强实践与执行力。不要欠生活，不要欠工作。出来混，总是要还的，你不会的知识，你懒于想通的东西，总是会在一个必要的时候提醒你、惩罚你。将没搞懂、希望做到的东西，写在纸上、贴在面前，认真实践，当你做到的越来越多的时候，你就会越来越自信，你的层次会提高的。相信我，人与人之间的差距很大，原因在于自我控制力有差距。——本书最真诚、我最喜欢的一句话。<br/>
   8、 每个人都会在自己的简历上写会C++，但是真正分析过STL源代码的人并不多，每个人都会声称自己精通各类操作系统，但是真正能说清楚Linux系统启动流程的人也不多。<br/>
   9、 如果一个事情比别人多付出5%的努力，就可能拿到相当于别人200%的回报。<br/>
   10、我衡量每一件事的标准就是：这件事够不够我写到简历上？如果够，能不能成为闪光点？——这句话对我学习工作都很有启示！<br/>
   11、世界上没有孤独的高手，却又一堆没人要的半吊子。<br/>
   12、始终保持着乐观的心态和自信心在求职的过程中是头等重要的。<br/>
   13、疯狂收集电子书自有乐趣，你会沉浸在这种乐趣之中，而忽略真正有用的东西和真正要做的事情。——这句话对我很有警示作用！<br/>
   14、坚持写技术博客，进行有效的自我营销。<br/>
   15、你做什么，而不是你想什么，决定你要成为什么样的人。<br/>
   16、看一个人，只要看他读的书和见的人。——真TM精辟！<br/>
   17、今天很残酷，明天更残酷。但后天很美好，大部分人将死在明天晚上，看不到后天的太阳。（马云）<br/>
   18、如果我不够强，就会被淘汰。<br/>
   19、有问题当场提出来是最搞笑的做法。——步入职场可能会体会到。<br/>
   20、人不能停止思考，思考自己，也思考人生，这才是要紧的，也是永远不会晚的。<br/>
   21、零散与不成系统，是网络知识的特点。这样漫无目的的阅读，容易消耗大量的时间，而且容易令人迷失，往往得不偿失。——告诫自己看书会相对好些。<br/>
   22、通常程序员都是伴随着企业一起成长的。<br/>
   23、凡事有计划，认真执行计划，勤记录，常总结。——自知做到这些非易事，但凡做到这都会有大成就，加油吧！<br/>
   24、在这个世界上生存下来，只能靠自己的拼搏和努力，万万不可把希望寄托在别人的身上。——同感，只有自身强大了，才有家庭、家族的荣光！<br/>
   25、之所以能够非常快速地进步和成长，非常大的一个原因就是坚持自己认定的方向，持之以恒，坚持不懈，并且坚持参与交流，坚持与人分享。<br/>
   26、掌握一门技术不是一蹴而就的事，它需要的是严谨的态度、科学的方法和一个必不可少的积累过程。<br/>
   27、有些事情时该做的，有些事情是不该做的，有些事情时可做可不做的；可做可不做的事情做得越少，获得成功的可能性就越大。——努力所在！<br/>
   28、看过了，听懂了，并不意味着真正的理解，只有亲身实践过，能将知识积累消化后分享给他人，才会让学到的东西真正了然于胸，随时拿起来都可以运用自如。<br/>
   29、看书一定要动脑子，蜻蜓点水地看一遍只能收获阅读时的快乐，但真正要用到书中的内容，需要在阅读的时候将精华部分用心牢记才有所得。<br/>
   30、慢即是快，笨笨地做一遍题是学习的捷径。——提醒自己：欲速则不达！<br/>
   31、一字不漏的敲入一本书的程序成了我推荐别人学习语言的最好方法。<br/>
   32、多看书，看好书，并且一定要做笔记。<br/>
   33、 在我看来，成长路径上有很多的偶然，没人知道在一些关键时候需要什么样的知识储备，所以踏实地多储备一些是好事。以前通过看书、自学，彻底地弄懂的一样知识，会在某个不经意的时候，突然被用到。这时候对当年积累的庆幸和再发现的快乐，就像蓦然回首见到灯火阑珊处的秋水伊人一样，是没法用文字描绘的。——非常赞同！<br/>
   34、一本好书读两次要胜过两本好书各读一次。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/31/tair/">Tair</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-31T15:02:00+08:00" pubdate data-updated="true">Jan 31<span>st</span>, 2013</time>
        
         | <a href="/blog/2013/01/31/tair/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>什么是tair</h2>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Tair是一个高性能，分布式，可扩展，高可靠的key/value结构存储系统。
Tair提供两种存储方式：
非持久，相当于cache
mdb引擎: 只支持key/value，单机性能7w qps（测试条件：单条记录512字节，响应时间2ms内）
rdb引擎: 不仅支持key/value，还支持list/hashmap/set/sortedset等复杂数据结构。
持久化存储，类似数据库。数据直接存放进硬盘，并且至少会有两份。
kdb引擎：采用了kyoto cabinet做为引擎，性能在2000 qps单台。
ldb引擎：采用了leveldb做为引擎，并且自带cache。服务器采用了ssd，性能在5w qps以上。
Tair现在支持Java和C/C++版本的客户端。</p>

<h2>为什么要用tair</h2>

<p>&nbsp;&nbsp;&nbsp;&nbsp;高可用：能够提供很高的可用性，在服务器宕机的场景下，系统能提供自动化的failover处理；你大可不必对后端某台集群的机器宕机而提心吊胆；
可扩展：能够提供接近线性的扩展能力，并且能够做到扩容过程中不影响前端服务的使用；因此，应用端接入的是一个海量的存储系统，不用太过担心访问量和容量的增长引起数据存储层架构的变化；
高性能：mdb单机性能7w qps，响应时间在2ms内（测试条件：单条平均记录512字节） ldb 性能在5w qps以上，并自带cache，响应时间在4ms内（测试条件：ssd,单条平均记录4096字节）
高可靠：有专门的维护团队，保证tair稳健的运行，同时提供数据备份。</p>

<h2>tair运用场景</h2>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Tair存储包括缓存和持久化两种，各有其适用的场景
Tair缓存使用的场景
数据可以以key/value的形式存储
数据可以接受丢失
访问速度要求很高
单个数据大小不是很大，一般在KB级别
数据更新不频繁
Tair持久化适用的场景
数据可以以key/value的形式存储
数据需要持久化
数据量很大，并且有较大的增长可能性
单个数据大小不是很大，一般在KB级别</p>

<h2>tair结构</h2>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/31/rtb/">广告交易平台</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-31T14:41:00+08:00" pubdate data-updated="true">Jan 31<span>st</span>, 2013</time>
        
         | <a href="/blog/2013/01/31/rtb/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>先给大家解释下名词</p>

<blockquote><p>RTB: (Real Time Bidding)中文名为实时竞价，是一种利用第三方技术在数以百万计的网站上针对每一个用户展示行为进行评估以及出价的竞价技术</p>

<p>DSP: (Demand Side Platform)是一个跨越不同广告资源平台，具有一定数据基础的,能使用统一的定向投放，数据，优化和报告，透明并自动实时地购买媒介广告的需求方平台</p>

<p>Ad Exchange: 针对每次展示进行实时竞价的推广交换市场，能帮助广告联盟、代理结构和第三方技术提供商通过实时竞价的方式购买众多互联网站点的广告资源。</p>

<p>SSP: (Supply Side Platform)是一个网络流量整合平台，拥有大量的网络流量，提供给广告需求方做广告投放。流量来源复杂，融合各大门户网站，视频网络，游戏网络等。</p></blockquote>

<p>同时给大伙说下淘宝平台RTB</p>

<p>淘宝TANX营销平台包括三块：1.淘宝客。2.直通车。3.钻展</p>

<p>实时竞价（RTB）：最合适的受众在最适合的时间，最适合的媒体上看到最适合他 的广告，实现多方共赢。</p>

<p>RTB构成：1.成熟的供应方平台（SSP）；2.需求方平台（DSP）；3.DMP平台（足量用户数据，数据整合，深入受众分析）</p>

<p>RTB精髓：1.实时竞价；2.智能投放</p>

<p>结构图：</p>

<p><img src="../images/blogImgs/rtb.jpg" alt="Alt text" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/30/revert-eclipse-delete-file/">如何恢复Eclipse中删除的文件</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-30T09:03:00+08:00" pubdate data-updated="true">Jan 30<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/01/30/revert-eclipse-delete-file/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><pre><code>其实很简单：选择工程 -&gt; 右键 -&gt; Restore from Local History
</code></pre>

<p>搞定，简单吧！</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/12/11/statistics-data/">统计cooklog每分钟及每30分钟的数据</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-11T14:48:00+08:00" pubdate data-updated="true">Dec 11<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/12/11/statistics-data/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>统计Cookie_log_total_1和Cookie_log_total_2两个文件，每分钟访问量及每30分钟的访问量</p>

<p>统计每分钟的数据</p>

<pre><code>cat $1 $2  |awk  '{print substr($5,2,18)}' |awk '{a[$1]++}END{for(i in a)print i,a[i]}' | sort &gt;&gt; Cookie_log_total_1
</code></pre>

<p>统计每30分钟的数据</p>

<pre><code>cat Cookie_log_total_1 |awk -F ":" 'BEGIN{total=0}{total+=$4;if($3&gt;29)a=0;if($3&gt;29)scope="29-59";if($3&lt;=29)a=30;if($3&lt;=29)scope="0-29"}{if(a+$3&gt;=59)print $1,":",$2,":",scope,total;if(a+$3&gt;=59)total=0}' &gt;&gt; Cookie_log_total_30
</code></pre>

<p>补充说明：
Cookie_log_total_1的内容如下，其它的类推：</p>

<pre><code>12/Sep/2012:23:59 
46.72.70.123 - - - [12/Sep/2012:23:59:50 -0700] "GET test 
46.72.70.123 - - - [12/Sep/2012:23:59:59 -0700] "GET test" 200 2131 82269 "http://www.a13/ Sep /2012:00:01 
46.72.70.123 - - - [13/ Sep /2012:00:01:50 -0700] "GET test
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/11/github-blog-config/">Github Blog 搭建手册</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-11T21:07:00+08:00" pubdate data-updated="true">Nov 11<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/11/11/github-blog-config/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>很多人都希望拥有一个属于自己的免费blog空间。</p>

<p>之前也会在一些技术论坛写blog，但是总觉得那是不属于自己的网站。</p>

<p>现在github给我们一个机会，可以搭建自己的独立博客。</p>

<p>在github上搭建博客可以利用Jekyll或者Octopress, Octopress是在Jekyll上建立起来的，即使没有网站设计经验的人也能够快速搭建自己的博客。</p>

<p>Jekyll和Octopress都是利用Ruby实现的，因此在搭建自己博客的过程中难免要接触到一些Ruby的东西。当然，这也许可以让你开始对Ruby感兴趣，并深入学习之。</p>

<p>现在来简单介绍下Window下搭建blog实施步骤：</p>

<p>*在www.github.com网站上注册一个帐户，并创建你blog站点的repository [username.github.com].</p>

<p>*下载git，安装完成后就可以在本地使用git了,然后在本机使用git创建SSH Key。</p>

<pre><code>ssh-keygen -C "useremail" -t rsa
</code></pre>

<p>备注: useremail为你注册github用户时的邮箱地址
这时，在系统目录下就会生成一个.ssh文件夹，里面为对应的SSH Key，其中id_rsa.pub是Gighub需要的SSH公钥文件。
将id_ras.pub文件里内容拷贝到Github的Account Settings里的key中。
这样你就可以直接使用Git和Github了.</p>

<p>*安装Ruby环境
** 下载RubyInstaller和DevKit,并安装，然后进行到DevKit目录下，运行以下命令</p>

<pre><code>ruby dk.rb init
ruby dk.rb install
gem install rdiscount --platform=ruby
</code></pre>

<p>安装成功后，就可以使用一些Ruby的小工具了。</p>

<p>*安装OctoPress
通过Git从Github上克隆一份Octopress</p>

<pre><code>git clone git://github.com/imathis/octopress.git octopress
</code></pre>

<p>安装一些依赖的工具</p>

<pre><code>cd octopress
gem install bundler
bundle install
</code></pre>

<p>安装Octopress默认的Theme</p>

<pre><code>rake install
</code></pre>

<p>通过_config.yml来配置博客</p>

<p>创建一个博客 <code>rake new_post["title"]</code>
创建一个博客目录 <code>rake new_page["page"]</code>
预览效果：</p>

<pre><code>rake generate
rake preview
</code></pre>

<p>然后在浏览器中打开<a href="http://localhost:4000%EF%BC%8C%E5%B0%B1%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E6%95%88%E6%9E%9C%E4%BA%86%E3%80%82">http://localhost:4000%EF%BC%8C%E5%B0%B1%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E6%95%88%E6%9E%9C%E4%BA%86%E3%80%82</a></p>

<p>*将博客部署到Github上
通过<code>rake setup_github_pages</code>命令，将自己的Blog与你在Github创建的repository关联起来。在过程中根据提示输入username.github.com
然后再通过下面命令来把博客内容部署到Github上</p>

<pre><code>rake deploy
git status ##查看更新状态
git add . ##把当前目录上所有的变更加上
git commit -a -m 'commit'
git push origin source
</code></pre>

<ul>
<li>在浏览器中输入username.github.com就可以看到你的博客内容了</li>
</ul>


<p>** 常见问题
乱码，请设置<code>LC_ALL=zh_CN.UTF-8和LANG=zh_CN.UTF-8</code></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/04/python-study-note-1/">Python 学习笔记一</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-04T22:15:00+08:00" pubdate data-updated="true">Nov 4<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/11/04/python-study-note-1/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>之前很粗的学习了下python，没有什么总结，只是写了几个简单的case。
现在总结下常用的一些命令吧。</p>

<p>pythons的setuptools安装</p>

<pre><code>wget http://pypi.python.org/packages/source/d/distribute/distribute-0.6.30.tar.gz
tar -xzvf ./distribute-0.6.30.tar.gz 
cd distribute-0.6.30/
python3 ./setup.py install
</code></pre>

<p>查看setup的命令：</p>

<pre><code>python setup.py --help-commands
</code></pre>

<p>查看BIF
在IDLE shell中，键入</p>

<pre><code>dir(__builtins__)
</code></pre>

<p>alt+p 上一个命令 alt+n 下一个命令
构建发布
先创建一个setup.py文件</p>

<pre><code>from setuptools import setup
setup(name='',version='',author='')
</code></pre>

<p>然后执行以下命令</p>

<pre><code>python setup.py sdist
python setup.py install
</code></pre>

<p>发布到pypi上</p>

<pre><code>python setup.py register
python setup.py sdist upload
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/28/jvm-study-note1/">深入理解Javn 虚拟机 学习笔记一</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-28T20:01:00+08:00" pubdate data-updated="true">Oct 28<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/10/28/jvm-study-note1/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>运行时数据区包含：方法区(method area)、虚拟机栈(VM Stack)、本地方法栈(Native Method Stack)、堆(Heap)、程序计数器(Program Counter Register)</p>

<p>各种区出现Error的情况：</p>

<h1>虚拟机栈</h1>

<ul>
<li>如果线程请求的栈深度大小虚拟机所允许的深度，将抛出StackOverflowError异常</li>
<li>如果虚拟机栈可以动态扩展(当前大部分的Java虚拟机都可以动态扩展，只不过虚拟机规范中也允许固定长度的虚拟机栈)，当扩展时无法申请到足够的内存时会抛出OouOfMemoryError异常

<h1>本地方法栈</h1></li>
<li>因为有的虚拟机(例如 Sun HotSpot)直接是把本地方法栈和虚拟机栈合二为一，所以与虚拟机栈一样，本地方法栈区域也会抛出StackOverflowError和OutOfMemoryError异常

<h1>Java 堆</h1></li>
<li>如果堆中没有内存完成实例分配，并且堆也无法再扩展时，将会抛出OutOfMemoryError异常

<h1>方法区</h1></li>
<li>如果方法区无法满足内存分配需求时，将抛出OutOfMemoryError异常

<h1>运行时常量池(Runtime Constant Pool)</h1></li>
<li>由于运行时常量池也是方法区的一部分，所以也会受到方法区内存的限制，当常量池无法再申请到内存时会抛出OutOfMemoryError异常

<h1>直接内存</h1></li>
<li>如果服务器管理员配置虚拟机参数时，只考虑实际内存设置 -Xmx等参数信息，而忽略掉了直接内存，使得各个内存区域的总和大于物理内存限制(包括物理上的和操作系统级的限制)，从而会导致动态扩展时出现OutOfMemoryError异常</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/28/parse-big-xml-file/">如何解析超大XML文件</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-28T11:26:00+08:00" pubdate data-updated="true">Oct 28<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/10/28/parse-big-xml-file/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>最近工作中碰到需要解析超大XML的问题（XML文件超过1G），并且在处理中还碰到无法解析的异常(org.xml.sax.SAXParseException: An invalid XML character (Unicode: 0x19) was found in the element content of the document)。
现在把处理方式和代码分享出来。
Java代码</p>

<pre><code>try {  
       SAXReader saxReader = new SAXReader();  
       saxReader.addHandler("/list/XXXX", new ElementHandler() {  
           public void onStart(ElementPath path) {  
                         // do nothing here...  
            }  

            public void onEnd(ElementPath path) {  
         // process a ROW element  
        Element row = path.getCurrent();  
        Document document = row.getDocument();  
        System.out.println(document.asXML());  
        row.detach();  
                    }  
                   });  
        }  

        final File file = new File(getFileName(language, isProduct));  
        saxReader.setErrorHandler(new ErrorHandler() {  
        public void error(SAXParseException e) {  
        System.out.println("file:" + file.getName() + "  ERROR: " + e);  
        }  
        public void fatalError(SAXParseException e) {  
        System.out.println("file:" + file.getName() + "  FATAL: " + e);  
        }  
        public void warning(SAXParseException e) {  
         System.out.println("file:" + file.getName() + "  WARNING: " + e);  
        }  
        });  

        InputStreamReader source = new InputStreamReader(new FileInputStream(file));  
        saxReader.read(source);  
    } catch (DocumentException e) {  
        logger.error("error", e);  
        return;  
    } catch (FileNotFoundException e) {  
        logger.error(" error", e);  
        return;  
}  
</code></pre>

<p>如果XML文件中包含了一些不可见的无效字符，就会导致JDom在解析该文件是抛出异常(An invalid XML character Unicode: 0x19 etc)。我们可以通过一些xml工具来保证，如果在xml文件出现了，也可以通过下面这个方法来过滤。
Java代码</p>

<pre><code>public static String stripNonValidXMLCharacters(String in) {  
    StringBuffer out = new StringBuffer(); // Used to hold the output.  
    char current; // Used to reference the current character.  

    if (in == null || ("".equals(in)))  
    return ""; // vacancy test.  
    for (int i = 0; i &lt; in.length(); i++) {  
    current = in.charAt(i); // NOTE: No IndexOutOfBoundsException caught  
                // here; it should not happen.  
    if ((current == 0x9) || (current == 0xA) || (current == 0xD)  
        || ((current &gt;= 0x20) &amp;&amp; (current &lt;= 0xD7FF))  
        || ((current &gt;= 0xE000) &amp;&amp; (current &lt;= 0xFFFD))  
        || ((current &gt;= 0x10000) &amp;&amp; (current &lt;= 0x10FFFF)))  
        out.append(current);  
    }  
    return out.toString();  
}  
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/28/vim-invalid/">Vim 失效的解决办法</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-28T11:25:00+08:00" pubdate data-updated="true">Oct 28<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/10/28/vim-invalid/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>解决办法：</p>

<p>  修改 /etc/vim/vim.tiny , 将</p>

<ol>
<li><p>  set compatible 改成 set nocompatible</p></li>
<li><p>  添加 backspace=2</p></li>
</ol>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/3/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About Me</h1>
  <p><img src="/images/blogImgs/self.jpg"></p>
  <p>java程序员，老猿人，孩子他爸</p>
  <p>爱篮球，爱Google, 爱折腾</p>
  <p>喜欢开源的东西, 喜欢读书和思考</p>
  <p><img src="/images/email.png"  alt="milehao@gmail.com" /></p>
</section>
<section>
  <h1>Sina 微博</h1>
<iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=3&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=2235818362&verifier=f873c807&dpc=1"></iframe>
</section><section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/03/27/thread-wait-sleep/">Thread wait sleep 区别</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/21/string-intern/">我对String及String.intern()的理解</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/19/linux-apache-grep-log/">linux下grep分析APACHE 服务器日志 命令集合</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/18/special-character/">特殊字符的含义</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/04/idp/">2014个人发展计划(IDP)</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Tag Cloud</h1>
    <span id="tag-cloud"></span>
</section><section>
  <ul id="categories">
    
  </ul>
</section><section>
  <h1>最新评论</h1>
  <script type="text/javascript" src="http://lehao.disqus.com/recent_comments_widget.js?num_items=5&hide_avatars=0&avatar_size=32&excerpt_length=200"></script>
</section><section>
<h1>My Douban</h1>
<div>
<script type="text/javascript" src="http://www.douban.com/service/badge/ilehao/?show=wishlist&n=9&columns=3&hidelogo=yes&cat=movie|book" ></script>
</div>
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - 乐皓 -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  <script src="http://s21.cnzz.com/stat.php?id=4841109&web_id=4841109&show=pic" language="JavaScript"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43609148-1', 'ilehao.com');
  ga('send', 'pageview');

</script>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'lehao';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
